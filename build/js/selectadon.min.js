!function(a,b,c,d){function e(b,c){this.el=b,this.$el=a(this.el),this.selectOptions={},h.btnTxt=this.$el.find("option").eq(0).text(),this.options=a.extend({},h,c);var d=this.$el.data(this.options.dataOptName)||{};this.options=a.extend({},this.options,d),this.options.isOpen=!1,this.options.onInit(this),this._name=f,""!==a.trim(this.options.evtNamespace)&&(this.options.evtNamespace="."+this.options.evtNamespace),this.init()}var f="selectadon",g={},h={selectData:{},holderClass:"sd-holder",modifierClass:"",btnClass:"sd-btn",listClass:"sd-list",txtClass:"sd-text",selectedClass:"sd-selected",iconClass:"sd-icon",openClass:"open",dataOptName:"sd-options",iconFirst:!1,btnTxt:null,btnIcon:null,noBtnTxt:!1,noBtnIcon:!1,closeAll:!0,showEvt:"click",evtNamespace:"",onInit:a.noop,onCreate:a.noop,onOpen:a.noop,onSelect:a.noop,onClose:a.noop},j=function(){return!0===("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch)}(),k=j?"touchstart":"click",l=function(b){return"object"==typeof a(b).data("plugin_"+f)},m=function(a){var b=parseInt(a,10);if(isNaN(b))switch(a){case"null":b=null;break;case"true":b=!0;break;case"false":b=!1;break;case"undefined":b=d;break;default:b=a}return b};g[f]=function(b,c,d){if(d[3]&&l(b)){var e=d[3].split(":"),g=a.data(b,"plugin_"+f).options[e[0]];return e.length>1?g===m(e[1]):g}return l(b)},a.extend(a.expr[":"],g),a(c).on(k+".sd-close",function(b){a(":"+f+'("isOpen")')[f]("dismiss",[b])}),e.prototype={init:function(){this.$el.on("change"+this.options.evtNamespace,{self:this},this.hiddenSelectActions),this.getSelectContent(),this.options.onCreate(this)},getSelectContent:function(){var b=this.$el.find("option"),c=b.length,d={};if(c>0)for(i=0;c>i;i+=1)d["_"+a.trim(b.eq(i).attr("value"))]=b.eq(i).text();this.selectOptions=a.extend({},d,this.options.selectData),this.buildSelect()},buildSelect:function(){var b=this.$el.attr("id"),c=a("<div>",{"class":a.trim(this.options.holderClass+" "+this.options.modifierClass),"data-id":b}),d=a("<a>",{"class":this.options.btnClass}),e=this.options.noBtnTxt===!0?null:a("<span>",{"class":this.options.txtClass,text:this.options.btnTxt}),f=this.options.noBtnIcon===!0?null:a("<span>",{"class":this.options.iconClass,html:this.options.btnIcon}),g=a("<ul>",{"class":this.options.listClass}),h=this.options.iconFirst===!0?[f,e]:[e,f],i="";c.insertAfter(this.$el).append([d.append(h),g]).on(k+this.options.evtNamespace,"a",{self:this},this.optionListActions),"hover"!==this.options.showEvt||j||c.on("mouseenter"+this.options.evtNamespace+" mouseleave"+this.options.evtNamespace,{self:this},this.optionListActions),this.$el.detach().prependTo(c),this.$sdHolder=c;for(var l in this.selectOptions)i+='<li><a href="#" data-value="'+l.split("_")[1]+'">'+this.selectOptions[l]+"</a></li>";g.append(i)},hiddenSelectActions:function(a,b){var c=a.data.self;b||c.syncSelectedOption(c.$el.val(),a.type)},optionListActions:function(b){b.preventDefault(),b.stopPropagation();var c,d=b.data.self,e=a(b.currentTarget);"click"===b.type||"touchstart"===b.type?(e.hasClass(d.options.btnClass)||(c=e.data("value"),d.syncSelectedOption(c,"click")),d.$sdHolder.hasClass(d.options.openClass)?d.hide():d.show()):"mouseenter"===b.type?d.show():d.hide()},show:function(b){var c=b?b.data.self:this;c.options.closeAll&&a(":"+f+'("isOpen")')[f]("hide"),c.$sdHolder.addClass(c.options.openClass),c.options.onOpen(c),c.options.isOpen=!0},hide:function(a){var b=a?a.data.self:this;b.$sdHolder.removeClass(b.options.openClass),b.options.onClose(b),b.options.isOpen=!1},dismiss:function(b){a(b.target).parents("."+this.options.holderClass).length>0?b.stopPropagation():this.hide()},syncSelectedOption:function(a,b){var c=a&&""!==a?this.selectOptions["_"+a]:this.options.btnTxt,d=a&&""!==a?a:"";this.$sdHolder.find("."+this.options.txtClass).text(c).end().find('[data-value="'+d+'"]').addClass(this.options.selectedClass),"click"===b&&this.$el.val(d).trigger("change"+this.options.evtNamespace,[!0]),this.options.onSelect(this,a)},destroy:function(){this.$el.off("change"+this.options.evtNamespace).detach().insertBefore(this.$sdHolder),this.$sdHolder.remove()},create:function(){this.init()}},a.fn[f]=function(b,c){return this.each(function(){if(a.data(this,"plugin_"+f)){if(a.isFunction(e.prototype[b])&&b.indexOf("_")<0){var d=a.data(this,"plugin_"+f);c=c||[],d[b].apply(d,c)}}else a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);